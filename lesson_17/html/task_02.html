<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="../../style.css" rel="stylesheet">
    <script defer src="./../scripts/task_02.js"></script>
</head>
<body>

<a href="../index.html">Home page</a>

<h1>Завдання 2</h1>
<p>
    Створити клас Нагадувач. Кожні вказані кількості секунд (використати setInterval)
    програма нагадує про якусь подію (це просто текст) і також виводиться порядковий номер скільки раз вже нагадування було.

    Зробити так, щоб неможна було зробити одночасно декілька об’єктів-нагадувачів. 
    Методи зупинки таймера, метод зміни повідомлення без зупинки таймера.
</p>

<p>Відповідь</p>

<script>
    if (confirm('Почати тестування?')) {
        class Reminder {

            static ReminderRef

            constructor(text, time) {
                if (Reminder.ReminderRef)
                    return Reminder.ReminderRef

                this.text = text
                this.time = time
                this. count = 0
                this.interval = null

                Reminder.ReminderRef = this
            }

            getResultInterval() {
                this.stopInterval()
                return this.interval = setInterval(() => {
                    this.count += 1
                    console.log(`${this.count}. ${this.text}`)
                    document.write(`${this.count}. ${this.text} <br>`)
                    if (this.count === 10) this.stopInterval()
                }, this.time)
            }

            stopInterval() {
                clearInterval(this.interval)
                this.interval = null
            }
        }

        let mess = prompt('Введіть текст який будемо виводити', "Дефолтний")

        const text = new Reminder(mess, 500)
        text.getResultInterval()
    }
</script>
</body>

</html>
